<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Extract Information From PDFs | Hello there!</title>
<meta name=keywords content="OCR,image2text"><meta name=description content="Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the tesseract framework to extract the weekly menu of a takeaway store."><meta name=author content="Fran Peric"><link rel=canonical href=https://franperic.github.io/posts/tesseract/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://franperic.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://franperic.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://franperic.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://franperic.github.io/apple-touch-icon.png><link rel=mask-icon href=https://franperic.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://franperic.github.io/posts/tesseract/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-PHGB9VX84Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PHGB9VX84Y")}</script><meta property="og:title" content="Extract Information From PDFs"><meta property="og:description" content="Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the tesseract framework to extract the weekly menu of a takeaway store."><meta property="og:type" content="article"><meta property="og:url" content="https://franperic.github.io/posts/tesseract/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-23T15:50:26+01:00"><meta property="article:modified_time" content="2023-02-23T15:50:26+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Extract Information From PDFs"><meta name=twitter:description content="Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the tesseract framework to extract the weekly menu of a takeaway store."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"","item":"https://franperic.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Extract Information From PDFs","item":"https://franperic.github.io/posts/tesseract/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Extract Information From PDFs","name":"Extract Information From PDFs","description":"Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the tesseract framework to extract the weekly menu of a takeaway store.","keywords":["OCR","image2text"],"articleBody":"tl;dr Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the tesseract framework to extract the weekly menu of a takeaway store.\nWhat am I using OCR for? For a side project, I am creating a lunch web app. The goal is to provide an overview of all lunch menus in the proximity. I am setting up the web app for my home city to kick off the project.\nImage generated with Midjourney One popular takeaway chain in my home city is publishing its weekly menu using a PDF file. I am using Machine Learning to extract the information from the PDF file in an automated fashion.\nHere are the results: The following image shows the menu from last week: Weekly menu in German. (Click to enlarge) In this example, I use the tesseract framework to perform OCR. Here is the extracted text from the image above:\nMeuuplaa Mittags-Augebote Bake off-Hit Montag Penne AN Vom 13. bis 19. Februar 2023 13. Februar 2023 mit Vegi-Bolognese 8.80 Vegi Calzone Caprese 4.90 Dienstag Kartoffelpfanne Bauernart 14. Februar 2023 mit Speck und Zwiebeln 8.80 Herkunft Schweinefleisch: Schweiz Mittwoch Massaman Curry AN 15. Februar 2023 mit Cashewnut, Rosinen und Jasminreis Vegi 8.80 F Donnerstag √Ñlpler Magronen 16. Februar 2023 mit R√∂stzwiebeln 8.80 PET-Getr√§nk in Kombination mit einem Sandwich Freitag Thai Nudelwok oder Salat nach Ihrer Wahl f√ºr nur 17. Februar 2023 mit Poulet und asiatischem Gem√ºse + 1.50 8.80 Herkunft Gefl√ºgel: Schweiz √Ñnderungen vorbehalten. Angebot in der Genossenschaft Migros Ostschweiz g√ºltig. Mittags-Menu nicht in den takeaways Rorschach, M√ºnchwilen, OBlI Gr√ºzepark und OBI St. Gallen erh√§ltlich. TAKE AWAY Overall, the OCR process did a great job. The extracted text contains some errors. E.g., Meuuplaa was identified instead of Menuplan. The errors stem from the particular font used in the PDF for the titles. The underlying model could be fine-tuned to improve the results for this specific font.\nHowever, for my purposes, the OCR performance is fine. I am just interested in the printed text, which is accurately identified.\nHow does it work? To get the results, the following steps are performed:\nConvert PDF file to PNG image\n(tesseract expects image formats like png, jpg, tiff)\nIdentification of relevant areas on the image (text detection)\nConvert image parts to text (text transcription)\nPostprocessing of the output\nI won‚Äôt dive into the details here. But steps 2 \u0026 3 are performed by tesseract internally. Two separate models perform the text detection and text transcription tasks.\nI adjusted the original image to show the tesseract results to highlight this.\nOCR results shown on the original image That‚Äôs it This was a short intro to OCR using tesseract and my first blog post on this page üòÑ.\n","wordCount":"460","inLanguage":"en","datePublished":"2023-02-23T15:50:26+01:00","dateModified":"2023-02-23T15:50:26+01:00","author":{"@type":"Person","name":"Fran Peric"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://franperic.github.io/posts/tesseract/"},"publisher":{"@type":"Organization","name":"Hello there!","logo":{"@type":"ImageObject","url":"https://franperic.github.io/favicon.ico"}}}</script></head><body id=top><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-PHGB9VX84Y"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-PHGB9VX84Y")}</script></head><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://franperic.github.io/ accesskey=h title="Hello there! (Alt + H)">Hello there!</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://franperic.github.io/about title="About me"><span>About me</span></a></li><li><a href=https://franperic.github.io/projects title=Projects><span>Projects</span></a></li><li><a href=https://franperic.github.io/posts title=Posts><span>Posts</span></a></li><li><a href=https://franperic.github.io/talks title=Talks><span>Talks</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://franperic.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://franperic.github.io/posts/></a></div><h1 class=post-title>Extract Information From PDFs</h1><div class=post-meta><span title='2023-02-23 15:50:26 +0100 +0100'>February 23, 2023</span>&nbsp;¬∑&nbsp;Fran Peric</div></header><div class=post-content><h1 id=tldr>tl;dr<a hidden class=anchor aria-hidden=true href=#tldr>#</a></h1><blockquote><p>Optical Character Recognition (OCR) can be used to extract text information from PDF files. In this blog post, I am using the <a href=https://github.com/tesseract-ocr/tesseract><em>tesseract</em></a> framework to extract the weekly menu of a takeaway store.</p></blockquote><hr><h1 id=what-am-i-using-ocr-for>What am I using OCR for?<a hidden class=anchor aria-hidden=true href=#what-am-i-using-ocr-for>#</a></h1><p>For a side project, I am creating a lunch web app. The goal is to provide an overview of all lunch menus in the proximity. I am setting up the web app for my home city to kick off the project.</p><figure><img src=/tesseract/lunch.png style=height:500px;margin:auto;display:block></figure><div align=center><i>Image generated with Midjourney</i></div><br><p>One popular takeaway chain in my home city is publishing its weekly menu using a PDF file. I am using Machine Learning to extract the information from the PDF file in an automated fashion.</p><h1 id=here-are-the-results>Here are the results:<a hidden class=anchor aria-hidden=true href=#here-are-the-results>#</a></h1><p>The following image shows the menu from last week:
<img loading=lazy src=/tesseract/take-away.png alt=takeaway><div align=center><i>Weekly menu in German. (Click to enlarge)</i></div></p><p>In this example, I use the <a href=https://github.com/tesseract-ocr/tesseract><em>tesseract</em></a> framework to perform OCR. Here is the extracted text from the image above:</p><pre tabindex=0><code>Meuuplaa

Mittags-Augebote Bake off-Hit

Montag Penne AN Vom 13. bis 19. Februar 2023
13. Februar 2023 mit Vegi-Bolognese

8.80 Vegi Calzone Caprese

4.90

Dienstag Kartoffelpfanne Bauernart
14. Februar 2023 mit Speck und Zwiebeln

8.80

Herkunft Schweinefleisch: Schweiz
Mittwoch Massaman Curry AN
15. Februar 2023 mit Cashewnut, Rosinen

und Jasminreis Vegi

8.80 F
Donnerstag √Ñlpler Magronen
16. Februar 2023 mit R√∂stzwiebeln

8.80

PET-Getr√§nk
in Kombination mit einem Sandwich

Freitag Thai Nudelwok oder Salat nach Ihrer Wahl f√ºr nur
17. Februar 2023 mit Poulet

und asiatischem Gem√ºse + 1.50

8.80

Herkunft Gefl√ºgel: Schweiz

√Ñnderungen vorbehalten. Angebot in der Genossenschaft Migros Ostschweiz g√ºltig. Mittags-Menu nicht in den takeaways Rorschach, M√ºnchwilen,
OBlI Gr√ºzepark und OBI St. Gallen erh√§ltlich.

TAKE AWAY
</code></pre><p>Overall, the OCR process did a great job.
The extracted text contains some errors. E.g., <strong>Meuuplaa</strong> was identified instead of <strong>Menuplan</strong>. The errors stem from the particular font used in the PDF for the titles. The underlying model could be fine-tuned to improve the results for this specific font.</p><p>However, for my purposes, the OCR performance is fine. I am just interested in the printed text, which is accurately identified.</p><h1 id=how-does-it-work>How does it work?<a hidden class=anchor aria-hidden=true href=#how-does-it-work>#</a></h1><p>To get the results, the following steps are performed:</p><ol><li><p>Convert PDF file to PNG image</p><p>(tesseract expects image formats like <em>png, jpg, tiff</em>)</p></li><li><p>Identification of relevant areas on the image (text detection)</p></li><li><p>Convert image parts to text (text transcription)</p></li><li><p>Postprocessing of the output</p></li></ol><p>I won&rsquo;t dive into the details here. But steps <strong>2 & 3</strong> are performed by tesseract internally. Two separate models perform the text detection and text transcription tasks.</p><p>I adjusted the original image to show the tesseract results to highlight this.</p><p><img loading=lazy src=/tesseract/ocr_results.png alt=ocr_results><div align=center><i>OCR results shown on the original image</i></div></p><h1 id=thats-it>That&rsquo;s it<a hidden class=anchor aria-hidden=true href=#thats-it>#</a></h1><p>This was a short intro to OCR using tesseract and my first blog post on this page &#x1f604;.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://franperic.github.io/tags/ocr/>OCR</a></li><li><a href=https://franperic.github.io/tags/image2text/>Image2text</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://franperic.github.io/>Hello there!</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.0.6/medium-zoom.min.js integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>const images=Array.from(document.querySelectorAll(".post-content img"));images.forEach(e=>{mediumZoom(e,{margin:0,scrollOffset:40,container:null,template:null})})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>